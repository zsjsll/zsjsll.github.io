<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            linux-systemctl 系统服务管理 | 
        
        姿势就是力量
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="long">
    <meta name="description" itemprop="description" content="以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。">
    <meta name="keywords" content=",linux,systemctl">
    
    <!-- Site Verification -->
    
    

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="姿势就是力量">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="linux-systemctl 系统服务管理 | 姿势就是力量">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。">
    <meta property="og:article:tag" content="linux"> <meta property="og:article:tag" content="systemctl"> 
    
    
        <meta property="article:published_time" content="6月 08, 2017">
        <meta property="article:modified_time" content="6月 12, 2019">
    
    
    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="linux-systemctl 系统服务管理 | 姿势就是力量">
    <meta name="twitter:description" content="以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="http://yoursite.com">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "姿势就是力量",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "long",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "Hi, nice to meet you"
    },
    "headline": "linux-systemctl 系统服务管理",
    "url": "http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html",
    "datePublished": "Thu Jun 08 2017 19:53:34 GMT+0800",
    "dateModified": "Wed Jun 12 2019 17:10:15 GMT+0800",
    "description": "以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://yoursite.com"
    }
}
</script>


    

    
        <meta property="article:published_time" content="Thu Jun 08 2017 19:53:34 GMT+0800">
        <meta property="article:modified_time" content="Wed Jun 12 2019 17:10:15 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="linux-systemctl 系统服务管理 | 姿势就是力量">
    <meta name="twitter:description" content="以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="http://yoursite.com">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html">
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "姿势就是力量",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "long",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "Hi, nice to meet you"
    },
    "headline": "linux-systemctl 系统服务管理",
    "url": "http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html",
    "datePublished": "Thu Jun 08 2017 19:53:34 GMT+0800",
    "dateModified": "Wed Jun 12 2019 17:10:15 GMT+0800",
    "description": "以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。
Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://yoursite.com"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    <style id="css/normalize.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/normalize.min.css","/css/normalize.min.css?d0mqtvXH1RARDqoEMMtoPQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?RWE2Kg073Ez/aN4BekjqrQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?f61By5clyF9yv1Ey5NX09w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    
    
    
    
    
    
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #ff4081;
  }

  a:hover{
    color: #00bfa5;
  }



  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00bfa5;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?ezyEvm8ST5CGfpA+kFFi1g==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#systemctl系统服务管理"><span class="post-toc-number">1.</span> <span class="post-toc-text">systemctl系统服务管理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#systemctl检查和分析"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">systemctl检查和分析</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#系统中是否安装有systemd并确定当前安装的版本"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">系统中是否安装有systemd并确定当前安装的版本</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#systemd和systemctl的二进制文件和库文件的安装位置"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">systemd和systemctl的二进制文件和库文件的安装位置</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#检查systemd是否运行"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">检查systemd是否运行</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分析systemd启动进程"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">分析systemd启动进程</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分析启动时各个进程花费的时间"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">分析启动时各个进程花费的时间</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分析启动时的关键链"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">分析启动时的关键链</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有可用单元"><span class="post-toc-number">1.1.7.</span> <span class="post-toc-text">列出所有可用单元</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有运行中单元"><span class="post-toc-number">1.1.8.</span> <span class="post-toc-text">列出所有运行中单元</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有失败单元"><span class="post-toc-number">1.1.9.</span> <span class="post-toc-text">列出所有失败单元</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用Systemctl控制并管理服务"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">使用Systemctl控制并管理服务</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#检查某个单元或服务的状态"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">检查某个单元或服务的状态</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#检查某个单元（如-cron-service）是否启用（运行）"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">检查某个单元（如 cron.service）是否启用（运行）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有服务（包括启用的和禁用的）"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">列出所有服务（包括启用的和禁用的）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux中启动、重启、停止服务"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">Linux中启动、重启、停止服务</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#查询和设置开机启动服务"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">查询和设置开机启动服务</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#屏蔽（不能启动）或显示服务（如-httpd-service）"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">屏蔽（不能启动）或显示服务（如 httpd.service）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#使用systemctl命令杀死服务"><span class="post-toc-number">1.2.7.</span> <span class="post-toc-text">使用systemctl命令杀死服务</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用Systemctl控制并管理挂载点"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">使用Systemctl控制并管理挂载点</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有系统挂载点"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">列出所有系统挂载点</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#查询，激活或禁用在启动时自动挂载"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">查询，激活或禁用在启动时自动挂载</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在Linux中屏蔽（让它不能启用）或可见挂载点"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">在Linux中屏蔽（让它不能启用）或可见挂载点</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用Systemctl控制并管理套接口"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">使用Systemctl控制并管理套接口</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出所有可用系统套接口"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">列出所有可用系统套接口</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#在Linux中启动、重启、停止、重载套接口并检查其状态"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">在Linux中启动、重启、停止、重载套接口并检查其状态</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#查询，激活或禁用套接口在启动时自动启动"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">查询，激活或禁用套接口在启动时自动启动</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#屏蔽（使它不能启动）或显示套接口"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">屏蔽（使它不能启动）或显示套接口</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#服务的CPU利用率（分配额）"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">服务的CPU利用率（分配额）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取当前某个服务的CPU分配额（如httpd）"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">获取当前某个服务的CPU分配额（如httpd）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#将某个服务的CPU分配份额限制为2000-CPUShares"><span class="post-toc-number">1.5.2.</span> <span class="post-toc-text">将某个服务的CPU分配份额限制为2000 CPUShares/</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#检查某个服务的所有配置细节"><span class="post-toc-number">1.5.3.</span> <span class="post-toc-text">检查某个服务的所有配置细节</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#分析某个服务（httpd）的关键链"><span class="post-toc-number">1.5.4.</span> <span class="post-toc-text">分析某个服务（httpd）的关键链</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#获取某个服务（httpd）的依赖性列表"><span class="post-toc-number">1.5.5.</span> <span class="post-toc-text">获取某个服务（httpd）的依赖性列表</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#按等级列出控制组"><span class="post-toc-number">1.5.6.</span> <span class="post-toc-text">按等级列出控制组</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#按CPU、内存、输入和输出列出控制组"><span class="post-toc-number">1.5.7.</span> <span class="post-toc-text">按CPU、内存、输入和输出列出控制组</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#控制系统运行等级"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">控制系统运行等级</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#启动系统救援模式"><span class="post-toc-number">1.6.1.</span> <span class="post-toc-text">启动系统救援模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#进入紧急模式"><span class="post-toc-number">1.6.2.</span> <span class="post-toc-text">进入紧急模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#列出当前使用的运行等级"><span class="post-toc-number">1.6.3.</span> <span class="post-toc-text">列出当前使用的运行等级</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#启动运行等级5，即图形模式"><span class="post-toc-number">1.6.4.</span> <span class="post-toc-text">启动运行等级5，即图形模式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#启动运行等级3，即多用户模式（命令行）"><span class="post-toc-number">1.6.5.</span> <span class="post-toc-text">启动运行等级3，即多用户模式（命令行）</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#设置多用户模式或图形模式为默认运行等级"><span class="post-toc-number">1.6.6.</span> <span class="post-toc-text">设置多用户模式或图形模式为默认运行等级</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#重启、停止、挂起、休眠系统或使系统进入混合睡眠"><span class="post-toc-number">1.6.7.</span> <span class="post-toc-text">重启、停止、挂起、休眠系统或使系统进入混合睡眠</span></a></li></ol></li></ol></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                linux-systemctl 系统服务管理
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/1.jpg" width="44px" height="44px" alt="Author Avatar">
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>long</strong>
        <span>6月 08, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/linux/">linux</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/systemctl/">systemctl</a>
    </li></ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=linux-systemctl 系统服务管理&url=http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    

    <!-- Share Facebook -->
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=姿势就是力量&title=linux-systemctl 系统服务管理&summary=&pics=http://yoursite.com/img/favicon.png&url=http://yoursite.com/2017/06/08/linux-systemctl系统服务管理/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p>以前linux用的是service来进行服务管理，现在很多系统都使用systemctl进行管理，下面就来说说这两者之间的差异。</p>
<p>Systemctl是一个systemd工具，主要负责控制systemd系统和服务管理器。<br>Systemd是一个系统管理守护进程、工具和库的集合，用于取代System V初始进程。Systemd的功能是用于集中管理和配置类UNIX系统。<br>在Linux生态系统中，Systemd被部署到了大多数的标准Linux发行版中，只有为数不多的几个发行版尚未部署。Systemd通常是所有其它守护进程的父进程，但并非总是如此。</p>
<a id="more"></a>

<h1 id="systemctl系统服务管理"><a href="#systemctl系统服务管理" class="headerlink" title="systemctl系统服务管理"></a>systemctl系统服务管理</h1><h2 id="systemctl检查和分析"><a href="#systemctl检查和分析" class="headerlink" title="systemctl检查和分析"></a>systemctl检查和分析</h2><h3 id="系统中是否安装有systemd并确定当前安装的版本"><a href="#系统中是否安装有systemd并确定当前安装的版本" class="headerlink" title="系统中是否安装有systemd并确定当前安装的版本"></a>系统中是否安装有systemd并确定当前安装的版本</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">--</span><span class="token keyword">version</span>

systemd <span class="token number">215</span>
<span class="token operator">+</span>PAM <span class="token operator">+</span>AUDIT <span class="token operator">+</span>SELINUX <span class="token operator">+</span>IMA <span class="token operator">+</span>SYSVINIT <span class="token operator">+</span>LIBCRYPTSETUP <span class="token operator">+</span>GCRYPT <span class="token operator">+</span>ACL <span class="token operator">+</span>XZ <span class="token operator">-</span>SECCOMP <span class="token operator">-</span>APPARMOR<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>上例中很清楚地表明，我们安装了215版本的systemd。</p>
<h3 id="systemd和systemctl的二进制文件和库文件的安装位置"><a href="#systemd和systemctl的二进制文件和库文件的安装位置" class="headerlink" title="systemd和systemctl的二进制文件和库文件的安装位置"></a>systemd和systemctl的二进制文件和库文件的安装位置</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">whereis</span> systemd 

systemd: /usr/lib/systemd /etc/systemd /usr/share/systemd /usr/share/man/man1/systemd.1.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">whereis</span> systemctl

systemctl: /usr/bin/systemctl /usr/share/man/man1/systemctl.1.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="检查systemd是否运行"><a href="#检查systemd是否运行" class="headerlink" title="检查systemd是否运行"></a>检查systemd是否运行</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">ps</span> -eaf <span class="token operator">|</span> <span class="token function">grep</span> <span class="token punctuation">[</span>s<span class="token punctuation">]</span>ystemd

root         1     0  0 16:27 ?        00:00:00 /usr/lib/systemd/systemd --switched-root --system --deserialize 23
root       444     1  0 16:27 ?        00:00:00 /usr/lib/systemd/systemd-journald
root       469     1  0 16:27 ?        00:00:00 /usr/lib/systemd/systemd-udevd
root       555     1  0 16:27 ?        00:00:00 /usr/lib/systemd/systemd-logind
dbus       556     1  0 16:27 ?        00:00:00 /bin/dbus-daemon --system --address<span class="token operator">=</span>systemd: --nofork --nopidfile --systemd-activation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>注意：</strong>systemd是作为父进程（PID=1）运行的。在上面带（-e）参数的ps命令输出中，选择所有进程，（-a）选择除会话前导外的所有进程，并使用（-f）参数输出完整格式列表（即 -eaf）。</p>
<p>也请注意上例中后随的方括号和例子中剩余部分。方括号表达式是grep的字符类表达式的一部分。</p>
<h3 id="分析systemd启动进程"><a href="#分析systemd启动进程" class="headerlink" title="分析systemd启动进程"></a>分析systemd启动进程</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>analyze

Startup finished <span class="token operator">in</span> <span class="token function">487ms</span> <span class="token punctuation">(</span>kernel<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2.</span><span class="token function">776s</span> <span class="token punctuation">(</span>initrd<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20.</span><span class="token function">229s</span> <span class="token punctuation">(</span>userspace<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">23.493</span>s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="分析启动时各个进程花费的时间"><a href="#分析启动时各个进程花费的时间" class="headerlink" title="分析启动时各个进程花费的时间"></a>分析启动时各个进程花费的时间</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>analyze blame

<span class="token number">8.565</span>s mariadb<span class="token punctuation">.</span>service
<span class="token number">7.991</span>s webmin<span class="token punctuation">.</span>service
<span class="token number">6.095</span>s postfix<span class="token punctuation">.</span>service
<span class="token number">4.311</span>s httpd<span class="token punctuation">.</span>service
<span class="token number">3.926</span>s firewalld<span class="token punctuation">.</span>service
<span class="token number">3.780</span>s kdump<span class="token punctuation">.</span>service
<span class="token number">3.238</span>s tuned<span class="token punctuation">.</span>service
<span class="token number">1.712</span>s network<span class="token punctuation">.</span>service
<span class="token number">1.394</span>s lvm2<span class="token operator">-</span>monitor<span class="token punctuation">.</span>service
<span class="token number">1.126</span>s systemd<span class="token operator">-</span>logind<span class="token punctuation">.</span>service
<span class="token operator">...</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="分析启动时的关键链"><a href="#分析启动时的关键链" class="headerlink" title="分析启动时的关键链"></a>分析启动时的关键链</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>analyze critical<span class="token operator">-</span>chain

The time after the unit <span class="token operator">is</span> active or started <span class="token operator">is</span> printed after the <span class="token string">"@"</span> character<span class="token punctuation">.</span>
The time the unit takes to start <span class="token operator">is</span> printed after the <span class="token string">"+"</span> character<span class="token punctuation">.</span>
multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target <span class="token property">@20</span><span class="token number">.222</span>s
└─mariadb<span class="token punctuation">.</span>service <span class="token property">@11</span><span class="token number">.657</span>s <span class="token operator">+</span><span class="token number">8.565</span>s
    └─network<span class="token punctuation">.</span>target <span class="token property">@11</span><span class="token number">.168</span>s
    └─network<span class="token punctuation">.</span>service <span class="token property">@9</span><span class="token number">.456</span>s <span class="token operator">+</span><span class="token number">1.712</span>s
        └─NetworkManager<span class="token punctuation">.</span>service <span class="token property">@8</span><span class="token number">.858</span>s <span class="token operator">+</span><span class="token number">596</span>ms
        └─firewalld<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.931</span>s <span class="token operator">+</span><span class="token number">3.926</span>s
            └─basic<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.916</span>s
            └─sockets<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.916</span>s
                └─dbus<span class="token punctuation">.</span>socket <span class="token property">@4</span><span class="token number">.916</span>s
                └─sysinit<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.905</span>s
                    └─systemd<span class="token operator">-</span>update<span class="token operator">-</span>utmp<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.864</span>s <span class="token operator">+</span><span class="token number">39</span>ms
                    └─auditd<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.563</span>s <span class="token operator">+</span><span class="token number">301</span>ms
                        └─systemd<span class="token operator">-</span>tmpfiles<span class="token operator">-</span>setup<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.485</span>s <span class="token operator">+</span><span class="token number">69</span>ms
                        └─rhel<span class="token operator">-</span><span class="token keyword">import</span><span class="token operator">-</span>state<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.342</span>s <span class="token operator">+</span><span class="token number">142</span>ms
                            └─local<span class="token operator">-</span>fs<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.324</span>s
                            └─boot<span class="token punctuation">.</span>mount <span class="token property">@4</span><span class="token number">.286</span>s <span class="token operator">+</span><span class="token number">31</span>ms
                                └─systemd<span class="token operator">-</span>fsck@dev<span class="token operator">-</span>disk<span class="token operator">-</span>by\x2duuid<span class="token operator">-</span><span class="token number">79f</span><span class="token number">594</span>ad\x2da332\x2d4730\x2dbb5f\x2d85d19608096
                                └─dev<span class="token operator">-</span>disk<span class="token operator">-</span>by\x2duuid<span class="token operator">-</span><span class="token number">79f</span><span class="token number">594</span>ad\x2da332\x2d4730\x2dbb5f\x2d85d196080964<span class="token punctuation">.</span>device <span class="token property">@4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>重要：</strong>Systemctl接受服务（.service），挂载点（.mount），套接口（.socket）和设备（.device）作为单元。</p>
<h3 id="列出所有可用单元"><a href="#列出所有可用单元" class="headerlink" title="列出所有可用单元"></a>列出所有可用单元</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>unit<span class="token operator">-</span>files

UNIT FILE                                   STATE   
proc<span class="token operator">-</span>sys<span class="token operator">-</span>fs<span class="token operator">-</span>binfmt_misc<span class="token punctuation">.</span>automount           <span class="token keyword">static</span>  
dev<span class="token operator">-</span>hugepages<span class="token punctuation">.</span>mount                         <span class="token keyword">static</span>  
dev<span class="token operator">-</span>mqueue<span class="token punctuation">.</span>mount                            <span class="token keyword">static</span>  
proc<span class="token operator">-</span>sys<span class="token operator">-</span>fs<span class="token operator">-</span>binfmt_misc<span class="token punctuation">.</span>mount               <span class="token keyword">static</span>  
sys<span class="token operator">-</span>fs<span class="token operator">-</span>fuse<span class="token operator">-</span>connections<span class="token punctuation">.</span>mount               <span class="token keyword">static</span>  
sys<span class="token operator">-</span>kernel<span class="token operator">-</span>config<span class="token punctuation">.</span>mount                     <span class="token keyword">static</span>  
sys<span class="token operator">-</span>kernel<span class="token operator">-</span><span class="token keyword">debug</span><span class="token punctuation">.</span>mount                      <span class="token keyword">static</span>  
tmp<span class="token punctuation">.</span>mount                                   disabled
brandbot<span class="token punctuation">.</span>path                               disabled
<span class="token operator">...</span><span class="token operator">..</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="列出所有运行中单元"><a href="#列出所有运行中单元" class="headerlink" title="列出所有运行中单元"></a>列出所有运行中单元</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>units

UNIT                                        LOAD   ACTIVE SUB       DESCRIPTION
proc<span class="token operator">-</span>sys<span class="token operator">-</span>fs<span class="token operator">-</span>binfmt_misc<span class="token punctuation">.</span>automount           loaded active waiting   Arbitrary Executable File Formats File Syste
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">..</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">-</span>block<span class="token operator">-</span>sr0<span class="token punctuation">.</span>device loaded active plugged   VBOX_CD<span class="token operator">-</span>ROM
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">...</span><span class="token punctuation">:</span><span class="token number">00</span><span class="token punctuation">:</span><span class="token number">03.0</span><span class="token operator">-</span>net<span class="token operator">-</span>enp0s3<span class="token punctuation">.</span>device loaded active plugged   PRO<span class="token operator">/</span><span class="token number">1000</span> MT Desktop Adapter
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">..</span><span class="token number">.00</span><span class="token punctuation">:</span><span class="token number">05.0</span><span class="token operator">-</span>sound<span class="token operator">-</span>card0<span class="token punctuation">.</span>device loaded active plugged   <span class="token number">82801</span>AA AC'<span class="token number">97</span> Audio Controller
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">...</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">-</span>block<span class="token operator">-</span>sda<span class="token operator">-</span>sda1<span class="token punctuation">.</span>device loaded active plugged   VBOX_HARDDISK
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">...</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">-</span>block<span class="token operator">-</span>sda<span class="token operator">-</span>sda2<span class="token punctuation">.</span>device loaded active plugged   LVM PV Qzyo3l<span class="token operator">-</span>qYaL<span class="token operator">-</span>uRUa<span class="token operator">-</span>Cjuk<span class="token operator">-</span>pljo<span class="token operator">-</span>qKtX<span class="token operator">-</span>VgBQ8
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pc<span class="token operator">..</span><span class="token number">.0</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token operator">-</span>block<span class="token operator">-</span>sda<span class="token punctuation">.</span>device loaded active plugged   VBOX_HARDDISK
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pl<span class="token operator">...</span>erial8250<span class="token operator">-</span>tty<span class="token operator">-</span>ttyS0<span class="token punctuation">.</span>device loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>platform<span class="token operator">/</span>serial8250<span class="token operator">/</span>tty<span class="token operator">/</span>ttyS0
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pl<span class="token operator">...</span>erial8250<span class="token operator">-</span>tty<span class="token operator">-</span>ttyS1<span class="token punctuation">.</span>device loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>platform<span class="token operator">/</span>serial8250<span class="token operator">/</span>tty<span class="token operator">/</span>ttyS1
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pl<span class="token operator">...</span>erial8250<span class="token operator">-</span>tty<span class="token operator">-</span>ttyS2<span class="token punctuation">.</span>device loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>platform<span class="token operator">/</span>serial8250<span class="token operator">/</span>tty<span class="token operator">/</span>ttyS2
sys<span class="token operator">-</span>devices<span class="token operator">-</span>pl<span class="token operator">...</span>erial8250<span class="token operator">-</span>tty<span class="token operator">-</span>ttyS3<span class="token punctuation">.</span>device loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>platform<span class="token operator">/</span>serial8250<span class="token operator">/</span>tty<span class="token operator">/</span>ttyS3
sys<span class="token operator">-</span>devices<span class="token operator">-</span>virtual<span class="token operator">-</span>block<span class="token operator">-</span>dm\x2d0<span class="token punctuation">.</span>device    loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>virtual<span class="token operator">/</span>block<span class="token operator">/</span>dm<span class="token operator">-</span><span class="token number">0</span>
sys<span class="token operator">-</span>devices<span class="token operator">-</span>virtual<span class="token operator">-</span>block<span class="token operator">-</span>dm\x2d1<span class="token punctuation">.</span>device    loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span>devices<span class="token operator">/</span>virtual<span class="token operator">/</span>block<span class="token operator">/</span>dm<span class="token operator">-</span><span class="token number">1</span>
sys<span class="token operator">-</span><span class="token keyword">module</span><span class="token operator">-</span>configfs<span class="token punctuation">.</span>device                  loaded active plugged   <span class="token operator">/</span>sys<span class="token operator">/</span><span class="token keyword">module</span><span class="token operator">/</span>configfs
<span class="token operator">...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="列出所有失败单元"><a href="#列出所有失败单元" class="headerlink" title="列出所有失败单元"></a>列出所有失败单元</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">--</span>failed

UNIT          LOAD   ACTIVE SUB    DESCRIPTION
kdump<span class="token punctuation">.</span>service loaded failed failed Crash recovery kernel arming
LOAD   <span class="token operator">=</span> Reflects whether the unit definition was properly loaded<span class="token punctuation">.</span>
ACTIVE <span class="token operator">=</span> The high<span class="token operator">-</span>level unit activation state<span class="token punctuation">,</span> i<span class="token punctuation">.</span>e<span class="token punctuation">.</span> generalization of SUB<span class="token punctuation">.</span>
SUB    <span class="token operator">=</span> The low<span class="token operator">-</span>level unit activation state<span class="token punctuation">,</span> values depend on unit type<span class="token punctuation">.</span>
<span class="token number">1</span> loaded units listed<span class="token punctuation">.</span> Pass <span class="token operator">--</span>all to see loaded but inactive units<span class="token punctuation">,</span> too<span class="token punctuation">.</span>
To show all installed unit files use <span class="token string">'systemctl list-unit-files'</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="使用Systemctl控制并管理服务"><a href="#使用Systemctl控制并管理服务" class="headerlink" title="使用Systemctl控制并管理服务"></a>使用Systemctl控制并管理服务</h2><h3 id="检查某个单元或服务的状态"><a href="#检查某个单元或服务的状态" class="headerlink" title="检查某个单元或服务的状态"></a>检查某个单元或服务的状态</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl status firewalld<span class="token punctuation">.</span>service

firewalld<span class="token punctuation">.</span>service <span class="token operator">-</span> firewalld <span class="token operator">-</span> dynamic firewall daemon
    Loaded<span class="token punctuation">:</span> <span class="token function">loaded</span> <span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>firewalld<span class="token punctuation">.</span>service<span class="token punctuation">;</span> enabled<span class="token punctuation">)</span>
    Active<span class="token punctuation">:</span> <span class="token function">active</span> <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Tue <span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">27</span><span class="token punctuation">:</span><span class="token number">55</span> IST<span class="token punctuation">;</span> <span class="token number">34</span>min ago
    Main PID<span class="token punctuation">:</span> <span class="token function">549</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span>
    CGroup<span class="token punctuation">:</span> <span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>firewalld<span class="token punctuation">.</span>service
            └─<span class="token number">549</span> <span class="token operator">/</span>usr<span class="token operator">/</span>bin<span class="token operator">/</span>python <span class="token operator">-</span>Es <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>firewalld <span class="token operator">--</span>nofork <span class="token operator">--</span>nopid
Apr <span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">27</span><span class="token punctuation">:</span><span class="token number">51</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Starting firewalld <span class="token operator">-</span> dynamic firewall daemon<span class="token operator">...</span>
Apr <span class="token number">28</span> <span class="token number">16</span><span class="token punctuation">:</span><span class="token number">27</span><span class="token punctuation">:</span><span class="token number">55</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Started firewalld <span class="token operator">-</span> dynamic firewall daemon<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="检查某个单元（如-cron-service）是否启用（运行）"><a href="#检查某个单元（如-cron-service）是否启用（运行）" class="headerlink" title="检查某个单元（如 cron.service）是否启用（运行）"></a>检查某个单元（如 cron.service）是否启用（运行）</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">is</span><span class="token operator">-</span>active crond<span class="token punctuation">.</span>service

active<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="列出所有服务（包括启用的和禁用的）"><a href="#列出所有服务（包括启用的和禁用的）" class="headerlink" title="列出所有服务（包括启用的和禁用的）"></a>列出所有服务（包括启用的和禁用的）</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>unit<span class="token operator">-</span>files <span class="token operator">--</span>type<span class="token operator">=</span>service
UNIT FILE                                   STATE   
arp<span class="token operator">-</span>ethers<span class="token punctuation">.</span>service                          disabled
auditd<span class="token punctuation">.</span>service                              enabled 
autovt@<span class="token punctuation">.</span>service                             disabled
blk<span class="token operator">-</span>availability<span class="token punctuation">.</span>service                    disabled
brandbot<span class="token punctuation">.</span>service                            <span class="token keyword">static</span>  
collectd<span class="token punctuation">.</span>service                            disabled
console<span class="token operator">-</span>getty<span class="token punctuation">.</span>service                       disabled
console<span class="token operator">-</span>shell<span class="token punctuation">.</span>service                       disabled
cpupower<span class="token punctuation">.</span>service                            disabled
crond<span class="token punctuation">.</span>service                               enabled 
dbus<span class="token operator">-</span>org<span class="token punctuation">.</span>fedoraproject<span class="token punctuation">.</span>FirewallD1<span class="token punctuation">.</span>service   enabled 
<span class="token operator">...</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Linux中启动、重启、停止服务"><a href="#Linux中启动、重启、停止服务" class="headerlink" title="Linux中启动、重启、停止服务"></a>Linux中启动、重启、停止服务</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl start httpd<span class="token punctuation">.</span>service
# systemctl restart httpd<span class="token punctuation">.</span>service
# systemctl stop httpd<span class="token punctuation">.</span>service
# systemctl reload httpd<span class="token punctuation">.</span>service
# systemctl status httpd<span class="token punctuation">.</span>service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>注意：</strong>当我们使用systemctl的start，restart，stop和reload命令时，我们不会从终端获取到任何输出内容，只有status命令可以打印输出。</p>
<h3 id="查询和设置开机启动服务"><a href="#查询和设置开机启动服务" class="headerlink" title="查询和设置开机启动服务"></a>查询和设置开机启动服务</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">is</span><span class="token operator">-</span>enable httpd<span class="token punctuation">.</span>service

enable<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-d"><code class="language-d"># systemctl enable httpd<span class="token punctuation">.</span>service
# systemctl disable httpd<span class="token punctuation">.</span>service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="屏蔽（不能启动）或显示服务（如-httpd-service）"><a href="#屏蔽（不能启动）或显示服务（如-httpd-service）" class="headerlink" title="屏蔽（不能启动）或显示服务（如 httpd.service）"></a>屏蔽（不能启动）或显示服务（如 httpd.service）</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl mask httpd<span class="token punctuation">.</span>service

ln <span class="token operator">-</span>s <span class="token string">'/dev/null'</span> <span class="token string">'/etc/systemd/system/httpd.service'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-d"><code class="language-d"># systemctl unmask httpd<span class="token punctuation">.</span>service

rm <span class="token string">'/etc/systemd/system/httpd.service'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="使用systemctl命令杀死服务"><a href="#使用systemctl命令杀死服务" class="headerlink" title="使用systemctl命令杀死服务"></a>使用systemctl命令杀死服务</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl kill httpd

# systemctl status httpd

httpd<span class="token punctuation">.</span>service <span class="token operator">-</span> The Apache HTTP Server
    Loaded<span class="token punctuation">:</span> <span class="token function">loaded</span> <span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>httpd<span class="token punctuation">.</span>service<span class="token punctuation">;</span> enabled<span class="token punctuation">)</span>
    Active<span class="token punctuation">:</span> <span class="token function">failed</span> <span class="token punctuation">(</span>Result<span class="token punctuation">:</span> exit<span class="token operator">-</span>code<span class="token punctuation">)</span> since Tue <span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">42</span> IST<span class="token punctuation">;</span> <span class="token number">28</span>min ago
    Main PID<span class="token punctuation">:</span> <span class="token function">2881</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited<span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">0</span><span class="token operator">/</span>SUCCESS<span class="token punctuation">)</span>
    Status<span class="token punctuation">:</span> <span class="token string">"Total requests: 0; Current requests/sec: 0; Current traffic:   0 B/sec"</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">29</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">29</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">39</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">39</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">49</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">49</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">59</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">37</span><span class="token punctuation">:</span><span class="token number">59</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> Got notification message from PID <span class="token number">2881</span><span class="token punctuation">,</span> but recepti<span class="token operator">...</span>bled<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">42</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> httpd<span class="token punctuation">.</span>service<span class="token punctuation">:</span> control process exited<span class="token punctuation">,</span> code<span class="token operator">=</span>exited status<span class="token operator">=</span><span class="token number">226</span>
Apr <span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">01</span><span class="token punctuation">:</span><span class="token number">42</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Unit httpd<span class="token punctuation">.</span>service entered failed state<span class="token punctuation">.</span>
Hint<span class="token punctuation">:</span> Some lines were ellipsized<span class="token punctuation">,</span> use <span class="token operator">-</span>l to show <span class="token operator">in</span> full<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="使用Systemctl控制并管理挂载点"><a href="#使用Systemctl控制并管理挂载点" class="headerlink" title="使用Systemctl控制并管理挂载点"></a>使用Systemctl控制并管理挂载点</h2><h3 id="列出所有系统挂载点"><a href="#列出所有系统挂载点" class="headerlink" title="列出所有系统挂载点"></a>列出所有系统挂载点</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>unit<span class="token operator">-</span>files <span class="token operator">--</span>type<span class="token operator">=</span>mount

UNIT FILE                     STATE   
dev<span class="token operator">-</span>hugepages<span class="token punctuation">.</span>mount           <span class="token keyword">static</span>  
dev<span class="token operator">-</span>mqueue<span class="token punctuation">.</span>mount              <span class="token keyword">static</span>  
proc<span class="token operator">-</span>sys<span class="token operator">-</span>fs<span class="token operator">-</span>binfmt_misc<span class="token punctuation">.</span>mount <span class="token keyword">static</span>  
sys<span class="token operator">-</span>fs<span class="token operator">-</span>fuse<span class="token operator">-</span>connections<span class="token punctuation">.</span>mount <span class="token keyword">static</span>  
sys<span class="token operator">-</span>kernel<span class="token operator">-</span>config<span class="token punctuation">.</span>mount       <span class="token keyword">static</span>  
sys<span class="token operator">-</span>kernel<span class="token operator">-</span><span class="token keyword">debug</span><span class="token punctuation">.</span>mount        <span class="token keyword">static</span>  
tmp<span class="token punctuation">.</span>mount                     disabled<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态"><a href="#挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态" class="headerlink" title="挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态"></a>挂载、卸载、重新挂载、重载系统挂载点并检查系统中挂载点状态</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl start tmp<span class="token punctuation">.</span>mount
# systemctl stop tmp<span class="token punctuation">.</span>mount
# systemctl restart tmp<span class="token punctuation">.</span>mount
# systemctl reload tmp<span class="token punctuation">.</span>mount
# systemctl status tmp<span class="token punctuation">.</span>mount

tmp<span class="token punctuation">.</span>mount <span class="token operator">-</span> Temporary Directory
    Loaded<span class="token punctuation">:</span> <span class="token function">loaded</span> <span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>tmp<span class="token punctuation">.</span>mount<span class="token punctuation">;</span> disabled<span class="token punctuation">)</span>
    Active<span class="token punctuation">:</span> <span class="token function">active</span> <span class="token punctuation">(</span>mounted<span class="token punctuation">)</span> since Tue <span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">06</span> IST<span class="token punctuation">;</span> <span class="token number">2</span>min <span class="token number">48</span>s ago
    Where<span class="token punctuation">:</span> <span class="token operator">/</span>tmp
        What<span class="token punctuation">:</span> tmpfs
        Docs<span class="token punctuation">:</span> man<span class="token punctuation">:</span><span class="token function">hier</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>freedesktop<span class="token punctuation">.</span>org<span class="token operator">/</span>wiki<span class="token operator">/</span>Software<span class="token operator">/</span>systemd<span class="token operator">/</span>APIFileSystems
    Process<span class="token punctuation">:</span> <span class="token number">3908</span> ExecMount<span class="token operator">=</span><span class="token operator">/</span>bin<span class="token operator">/</span>mount tmpfs <span class="token operator">/</span>tmp <span class="token operator">-</span>t tmpfs <span class="token operator">-</span>o mode<span class="token operator">=</span><span class="token number">1777</span><span class="token punctuation">,</span><span class="token function">strictatime</span> <span class="token punctuation">(</span>code<span class="token operator">=</span>exited<span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">0</span><span class="token operator">/</span>SUCCESS<span class="token punctuation">)</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">06</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Mounting Temporary Directory<span class="token operator">...</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">06</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> tmp<span class="token punctuation">.</span>mount<span class="token punctuation">:</span> Directory <span class="token operator">/</span>tmp to mount over <span class="token operator">is</span> not empty<span class="token punctuation">,</span> mounting anyway<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">17</span><span class="token punctuation">:</span><span class="token number">46</span><span class="token punctuation">:</span><span class="token number">06</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Mounted Temporary Directory<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="查询，激活或禁用在启动时自动挂载"><a href="#查询，激活或禁用在启动时自动挂载" class="headerlink" title="查询，激活或禁用在启动时自动挂载"></a>查询，激活或禁用在启动时自动挂载</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">is</span><span class="token operator">-</span>enable tmp<span class="token punctuation">.</span>mount
# systemctl enable tmp<span class="token punctuation">.</span>mount
# systemctl disable  tmp<span class="token punctuation">.</span>mount<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="在Linux中屏蔽（让它不能启用）或可见挂载点"><a href="#在Linux中屏蔽（让它不能启用）或可见挂载点" class="headerlink" title="在Linux中屏蔽（让它不能启用）或可见挂载点"></a>在Linux中屏蔽（让它不能启用）或可见挂载点</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl mask tmp<span class="token punctuation">.</span>mount

ln <span class="token operator">-</span>s <span class="token string">'/dev/null'</span> <span class="token string">'/etc/systemd/system/tmp.mount'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-d"><code class="language-d"># systemctl unmask tmp<span class="token punctuation">.</span>mount

rm <span class="token string">'/etc/systemd/system/tmp.mount'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="使用Systemctl控制并管理套接口"><a href="#使用Systemctl控制并管理套接口" class="headerlink" title="使用Systemctl控制并管理套接口"></a>使用Systemctl控制并管理套接口</h2><h3 id="列出所有可用系统套接口"><a href="#列出所有可用系统套接口" class="headerlink" title="列出所有可用系统套接口"></a>列出所有可用系统套接口</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>unit<span class="token operator">-</span>files <span class="token operator">--</span>type<span class="token operator">=</span>socket

UNIT FILE                    STATE   
dbus<span class="token punctuation">.</span>socket                  <span class="token keyword">static</span>  
dm<span class="token operator">-</span>event<span class="token punctuation">.</span>socket              enabled 
lvm2<span class="token operator">-</span>lvmetad<span class="token punctuation">.</span>socket          enabled 
rsyncd<span class="token punctuation">.</span>socket                disabled
sshd<span class="token punctuation">.</span>socket                  disabled
syslog<span class="token punctuation">.</span>socket                <span class="token keyword">static</span>  
systemd<span class="token operator">-</span>initctl<span class="token punctuation">.</span>socket       <span class="token keyword">static</span>  
systemd<span class="token operator">-</span>journald<span class="token punctuation">.</span>socket      <span class="token keyword">static</span>  
systemd<span class="token operator">-</span>shutdownd<span class="token punctuation">.</span>socket     <span class="token keyword">static</span>  
systemd<span class="token operator">-</span>udevd<span class="token operator">-</span>control<span class="token punctuation">.</span>socket <span class="token keyword">static</span>  
systemd<span class="token operator">-</span>udevd<span class="token operator">-</span>kernel<span class="token punctuation">.</span>socket  <span class="token keyword">static</span>  
<span class="token number">11</span> unit files listed<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="在Linux中启动、重启、停止、重载套接口并检查其状态"><a href="#在Linux中启动、重启、停止、重载套接口并检查其状态" class="headerlink" title="在Linux中启动、重启、停止、重载套接口并检查其状态"></a>在Linux中启动、重启、停止、重载套接口并检查其状态</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl start cups<span class="token punctuation">.</span>socket
# systemctl restart cups<span class="token punctuation">.</span>socket
# systemctl stop cups<span class="token punctuation">.</span>socket
# systemctl reload cups<span class="token punctuation">.</span>socket
# systemctl status cups<span class="token punctuation">.</span>socket

cups<span class="token punctuation">.</span>socket <span class="token operator">-</span> CUPS Printing Service Sockets
    Loaded<span class="token punctuation">:</span> <span class="token function">loaded</span> <span class="token punctuation">(</span><span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>cups<span class="token punctuation">.</span>socket<span class="token punctuation">;</span> enabled<span class="token punctuation">)</span>
    Active<span class="token punctuation">:</span> <span class="token function">active</span> <span class="token punctuation">(</span>listening<span class="token punctuation">)</span> since Tue <span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">59</span> IST<span class="token punctuation">;</span> <span class="token number">8</span>s ago
    Listen<span class="token punctuation">:</span> <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>cups<span class="token operator">/</span>cups<span class="token punctuation">.</span><span class="token function">sock</span> <span class="token punctuation">(</span>Stream<span class="token punctuation">)</span>
Apr <span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">59</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Starting CUPS Printing Service Sockets<span class="token punctuation">.</span>
Apr <span class="token number">28</span> <span class="token number">18</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token number">59</span> tecmint systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> Listening on CUPS Printing Service Sockets<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="查询，激活或禁用套接口在启动时自动启动"><a href="#查询，激活或禁用套接口在启动时自动启动" class="headerlink" title="查询，激活或禁用套接口在启动时自动启动"></a>查询，激活或禁用套接口在启动时自动启动</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl <span class="token operator">is</span><span class="token operator">-</span>enable cups<span class="token punctuation">.</span>socket
# systemctl enable cups<span class="token punctuation">.</span>socket
# systemctl disable cups<span class="token punctuation">.</span>socket<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="屏蔽（使它不能启动）或显示套接口"><a href="#屏蔽（使它不能启动）或显示套接口" class="headerlink" title="屏蔽（使它不能启动）或显示套接口"></a>屏蔽（使它不能启动）或显示套接口</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl mask cups<span class="token punctuation">.</span>socket

ln <span class="token operator">-</span>s <span class="token string">'/dev/null'</span> <span class="token string">'/etc/systemd/system/cups.socket'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-d"><code class="language-d"># systemctl unmask cups<span class="token punctuation">.</span>socket

rm <span class="token string">'/etc/systemd/system/cups.socket'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="服务的CPU利用率（分配额）"><a href="#服务的CPU利用率（分配额）" class="headerlink" title="服务的CPU利用率（分配额）"></a>服务的CPU利用率（分配额）</h2><h3 id="获取当前某个服务的CPU分配额（如httpd）"><a href="#获取当前某个服务的CPU分配额（如httpd）" class="headerlink" title="获取当前某个服务的CPU分配额（如httpd）"></a>获取当前某个服务的CPU分配额（如httpd）</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl show <span class="token operator">-</span>p CPUShares httpd<span class="token punctuation">.</span>service

CPUShares<span class="token operator">=</span><span class="token number">1024</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>注意：</strong>各个服务的默认CPU分配份额=1024，你可以增加/减少某个进程的CPU分配份额。</p>
<h3 id="将某个服务的CPU分配份额限制为2000-CPUShares"><a href="#将某个服务的CPU分配份额限制为2000-CPUShares" class="headerlink" title="将某个服务的CPU分配份额限制为2000 CPUShares/"></a>将某个服务的CPU分配份额限制为2000 CPUShares/</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl set<span class="token operator">-</span>property httpd<span class="token punctuation">.</span>service CPUShares<span class="token operator">=</span><span class="token number">2000</span>
# systemctl show <span class="token operator">-</span>p CPUShares httpd<span class="token punctuation">.</span>service

CPUShares<span class="token operator">=</span><span class="token number">2000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>注意：</strong>当你为某个服务设置CPUShares，会自动创建一个以服务名命名的目录（如 httpd.service），里面包含了一个名为90-CPUShares.conf的文件，该文件含有CPUShare限制信息，你可以通过以下方式查看该文件：</p>
<pre class="line-numbers language-d"><code class="language-d"># vi <span class="token operator">/</span>etc<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>httpd<span class="token punctuation">.</span>service<span class="token punctuation">.</span>d<span class="token operator">/</span><span class="token number">90</span><span class="token operator">-</span>CPUShares<span class="token punctuation">.</span>conf

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
CPUShares<span class="token operator">=</span><span class="token number">2000</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="检查某个服务的所有配置细节"><a href="#检查某个服务的所有配置细节" class="headerlink" title="检查某个服务的所有配置细节"></a>检查某个服务的所有配置细节</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl show httpd

Id<span class="token operator">=</span>httpd<span class="token punctuation">.</span>service
Names<span class="token operator">=</span>httpd<span class="token punctuation">.</span>service
Requires<span class="token operator">=</span>basic<span class="token punctuation">.</span>target
Wants<span class="token operator">=</span>system<span class="token punctuation">.</span>slice
WantedBy<span class="token operator">=</span>multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target
Conflicts<span class="token operator">=</span>shutdown<span class="token punctuation">.</span>target
Before<span class="token operator">=</span>shutdown<span class="token punctuation">.</span>target multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target
After<span class="token operator">=</span>network<span class="token punctuation">.</span>target remote<span class="token operator">-</span>fs<span class="token punctuation">.</span>target nss<span class="token operator">-</span>lookup<span class="token punctuation">.</span>target systemd<span class="token operator">-</span>journald<span class="token punctuation">.</span>socket basic<span class="token punctuation">.</span>target system<span class="token punctuation">.</span>slice
Description<span class="token operator">=</span>The Apache HTTP Server
LoadState<span class="token operator">=</span>loaded
ActiveState<span class="token operator">=</span>active
SubState<span class="token operator">=</span>running
FragmentPath<span class="token operator">=</span><span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>system<span class="token operator">/</span>httpd<span class="token punctuation">.</span>service
<span class="token operator">...</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="分析某个服务（httpd）的关键链"><a href="#分析某个服务（httpd）的关键链" class="headerlink" title="分析某个服务（httpd）的关键链"></a>分析某个服务（httpd）的关键链</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>analyze critical<span class="token operator">-</span>chain httpd<span class="token punctuation">.</span>service

The time after the unit <span class="token operator">is</span> active or started <span class="token operator">is</span> printed after the <span class="token string">"@"</span> character<span class="token punctuation">.</span>
The time the unit takes to start <span class="token operator">is</span> printed after the <span class="token string">"+"</span> character<span class="token punctuation">.</span>
httpd<span class="token punctuation">.</span>service <span class="token operator">+</span><span class="token number">142</span>ms
└─network<span class="token punctuation">.</span>target <span class="token property">@11</span><span class="token number">.168</span>s
    └─network<span class="token punctuation">.</span>service <span class="token property">@9</span><span class="token number">.456</span>s <span class="token operator">+</span><span class="token number">1.712</span>s
    └─NetworkManager<span class="token punctuation">.</span>service <span class="token property">@8</span><span class="token number">.858</span>s <span class="token operator">+</span><span class="token number">596</span>ms
        └─firewalld<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.931</span>s <span class="token operator">+</span><span class="token number">3.926</span>s
        └─basic<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.916</span>s
            └─sockets<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.916</span>s
            └─dbus<span class="token punctuation">.</span>socket <span class="token property">@4</span><span class="token number">.916</span>s
                └─sysinit<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.905</span>s
                └─systemd<span class="token operator">-</span>update<span class="token operator">-</span>utmp<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.864</span>s <span class="token operator">+</span><span class="token number">39</span>ms
                    └─auditd<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.563</span>s <span class="token operator">+</span><span class="token number">301</span>ms
                    └─systemd<span class="token operator">-</span>tmpfiles<span class="token operator">-</span>setup<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.485</span>s <span class="token operator">+</span><span class="token number">69</span>ms
                        └─rhel<span class="token operator">-</span><span class="token keyword">import</span><span class="token operator">-</span>state<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.342</span>s <span class="token operator">+</span><span class="token number">142</span>ms
                        └─local<span class="token operator">-</span>fs<span class="token punctuation">.</span>target <span class="token property">@4</span><span class="token number">.324</span>s
                            └─boot<span class="token punctuation">.</span>mount <span class="token property">@4</span><span class="token number">.286</span>s <span class="token operator">+</span><span class="token number">31</span>ms
                            └─systemd<span class="token operator">-</span>fsck@dev<span class="token operator">-</span>disk<span class="token operator">-</span>by\x2duuid<span class="token operator">-</span><span class="token number">79f</span><span class="token number">594</span>ad\x2da332\x2d4730\x2dbb5f\x2d85d196080964<span class="token punctuation">.</span>service <span class="token property">@4</span><span class="token number">.092</span>s <span class="token operator">+</span><span class="token number">149</span>ms
                                └─dev<span class="token operator">-</span>disk<span class="token operator">-</span>by\x2duuid<span class="token operator">-</span><span class="token number">79f</span><span class="token number">594</span>ad\x2da332\x2d4730\x2dbb5f\x2d85d196080964<span class="token punctuation">.</span>device <span class="token property">@4</span><span class="token number">.092</span>s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="获取某个服务（httpd）的依赖性列表"><a href="#获取某个服务（httpd）的依赖性列表" class="headerlink" title="获取某个服务（httpd）的依赖性列表"></a>获取某个服务（httpd）的依赖性列表</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl list<span class="token operator">-</span>dependencies httpd<span class="token punctuation">.</span>service

httpd<span class="token punctuation">.</span>service
├─system<span class="token punctuation">.</span>slice
└─basic<span class="token punctuation">.</span>target
    ├─firewalld<span class="token punctuation">.</span>service
    ├─microcode<span class="token punctuation">.</span>service
    ├─rhel<span class="token operator">-</span>autorelabel<span class="token operator">-</span>mark<span class="token punctuation">.</span>service
    ├─rhel<span class="token operator">-</span>autorelabel<span class="token punctuation">.</span>service
    ├─rhel<span class="token operator">-</span>configure<span class="token punctuation">.</span>service
    ├─rhel<span class="token operator">-</span>dmesg<span class="token punctuation">.</span>service
    ├─rhel<span class="token operator">-</span>loadmodules<span class="token punctuation">.</span>service
    ├─paths<span class="token punctuation">.</span>target
    ├─slices<span class="token punctuation">.</span>target
    │ ├─<span class="token operator">-</span><span class="token punctuation">.</span>slice
    │ └─system<span class="token punctuation">.</span>slice
    ├─sockets<span class="token punctuation">.</span>target
    │ ├─dbus<span class="token punctuation">.</span>socket
<span class="token operator">...</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="按等级列出控制组"><a href="#按等级列出控制组" class="headerlink" title="按等级列出控制组"></a>按等级列出控制组</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>cgls

├─<span class="token number">1</span> <span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>systemd<span class="token operator">/</span>systemd <span class="token operator">--</span>switched<span class="token operator">-</span>root <span class="token operator">--</span>system <span class="token operator">--</span>deserialize <span class="token number">23</span>
├─user<span class="token punctuation">.</span>slice
│ └─user<span class="token operator">-</span><span class="token number">0.</span>slice
│   └─session<span class="token operator">-</span><span class="token number">1.</span><span class="token keyword">scope</span>
│     ├─<span class="token number">2498</span> sshd<span class="token punctuation">:</span> root@pts<span class="token operator">/</span><span class="token number">0</span>    
│     ├─<span class="token number">2500</span> <span class="token operator">-</span>bash
│     ├─<span class="token number">4521</span> systemd<span class="token operator">-</span>cgls
│     └─<span class="token number">4522</span> systemd<span class="token operator">-</span>cgls
└─system<span class="token punctuation">.</span>slice
    ├─httpd<span class="token punctuation">.</span>service
    │ ├─<span class="token number">4440</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    │ ├─<span class="token number">4442</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    │ ├─<span class="token number">4443</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    │ ├─<span class="token number">4444</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    │ ├─<span class="token number">4445</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    │ └─<span class="token number">4446</span> <span class="token operator">/</span>usr<span class="token operator">/</span>sbin<span class="token operator">/</span>httpd <span class="token operator">-</span>DFOREGROUND
    ├─polkit<span class="token punctuation">.</span>service
    │ └─<span class="token number">721</span> <span class="token operator">/</span>usr<span class="token operator">/</span>lib<span class="token operator">/</span>polkit<span class="token operator">-</span><span class="token number">1</span><span class="token operator">/</span>polkitd <span class="token operator">--</span>no<span class="token operator">-</span><span class="token keyword">debug</span>
<span class="token operator">...</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="按CPU、内存、输入和输出列出控制组"><a href="#按CPU、内存、输入和输出列出控制组" class="headerlink" title="按CPU、内存、输入和输出列出控制组"></a>按CPU、内存、输入和输出列出控制组</h3><pre class="line-numbers language-d"><code class="language-d"># systemd<span class="token operator">-</span>cgtop

Path                                                              Tasks   <span class="token operator">%</span>CPU   Memory  Input<span class="token operator">/</span>s Output<span class="token operator">/</span>s
<span class="token operator">/</span>                                                                    <span class="token number">83</span>    <span class="token number">1.0</span>   <span class="token number">437.8</span>M        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice                                                         <span class="token operator">-</span>    <span class="token number">0.1</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>mariadb<span class="token punctuation">.</span>service                                         <span class="token number">2</span>    <span class="token number">0.1</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>tuned<span class="token punctuation">.</span>service                                           <span class="token number">1</span>    <span class="token number">0.0</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>httpd<span class="token punctuation">.</span>service                                           <span class="token number">6</span>    <span class="token number">0.0</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>NetworkManager<span class="token punctuation">.</span>service                                  <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>atop<span class="token punctuation">.</span>service                                            <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>atopacct<span class="token punctuation">.</span>service                                        <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>auditd<span class="token punctuation">.</span>service                                          <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>crond<span class="token punctuation">.</span>service                                           <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>dbus<span class="token punctuation">.</span>service                                            <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>firewalld<span class="token punctuation">.</span>service                                       <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>lvm2<span class="token operator">-</span>lvmetad<span class="token punctuation">.</span>service                                    <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>polkit<span class="token punctuation">.</span>service                                          <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>postfix<span class="token punctuation">.</span>service                                         <span class="token number">3</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>rsyslog<span class="token punctuation">.</span>service                                         <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>system<span class="token operator">-</span>getty<span class="token punctuation">.</span>slice<span class="token operator">/</span>getty@tty1<span class="token punctuation">.</span>service                   <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>systemd<span class="token operator">-</span>journald<span class="token punctuation">.</span>service                                <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>systemd<span class="token operator">-</span>logind<span class="token punctuation">.</span>service                                  <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>systemd<span class="token operator">-</span>udevd<span class="token punctuation">.</span>service                                   <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>system<span class="token punctuation">.</span>slice<span class="token operator">/</span>webmin<span class="token punctuation">.</span>service                                          <span class="token number">1</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>
<span class="token operator">/</span>user<span class="token punctuation">.</span>slice<span class="token operator">/</span>user<span class="token operator">-</span><span class="token number">0.</span>slice<span class="token operator">/</span>session<span class="token operator">-</span><span class="token number">1.</span><span class="token keyword">scope</span>                              <span class="token number">3</span>      <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span>        <span class="token operator">-</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="控制系统运行等级"><a href="#控制系统运行等级" class="headerlink" title="控制系统运行等级"></a>控制系统运行等级</h2><h3 id="启动系统救援模式"><a href="#启动系统救援模式" class="headerlink" title="启动系统救援模式"></a>启动系统救援模式</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl rescue

Broadcast message from root@tecmint on pts<span class="token operator">/</span><span class="token function">0</span> <span class="token punctuation">(</span>Wed <span class="token number">2015</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">29</span> <span class="token number">11</span><span class="token punctuation">:</span><span class="token number">31</span><span class="token punctuation">:</span><span class="token number">18</span> IST<span class="token punctuation">)</span><span class="token punctuation">:</span>
The system <span class="token operator">is</span> going down to rescue mode NOW<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="进入紧急模式"><a href="#进入紧急模式" class="headerlink" title="进入紧急模式"></a>进入紧急模式</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl emergency

Welcome to emergency mode<span class="token operator">!</span> After logging <span class="token operator">in</span><span class="token punctuation">,</span> type <span class="token string">"journalctl -xb"</span> to view
system logs<span class="token punctuation">,</span> <span class="token string">"systemctl reboot"</span> to reboot<span class="token punctuation">,</span> <span class="token string">"systemctl default"</span> to <span class="token keyword">try</span> again
to boot into <span class="token keyword">default</span> mode<span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="列出当前使用的运行等级"><a href="#列出当前使用的运行等级" class="headerlink" title="列出当前使用的运行等级"></a>列出当前使用的运行等级</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl get<span class="token operator">-</span><span class="token keyword">default</span>

multi<span class="token operator">-</span>user<span class="token punctuation">.</span>target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="启动运行等级5，即图形模式"><a href="#启动运行等级5，即图形模式" class="headerlink" title="启动运行等级5，即图形模式"></a>启动运行等级5，即图形模式</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl isolate runlevel5<span class="token punctuation">.</span>target
或
# systemctl isolate graphical<span class="token punctuation">.</span>target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="启动运行等级3，即多用户模式（命令行）"><a href="#启动运行等级3，即多用户模式（命令行）" class="headerlink" title="启动运行等级3，即多用户模式（命令行）"></a>启动运行等级3，即多用户模式（命令行）</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl isolate runlevel3<span class="token punctuation">.</span>target
或
# systemctl isolate multiuser<span class="token punctuation">.</span>target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="设置多用户模式或图形模式为默认运行等级"><a href="#设置多用户模式或图形模式为默认运行等级" class="headerlink" title="设置多用户模式或图形模式为默认运行等级"></a>设置多用户模式或图形模式为默认运行等级</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl set<span class="token operator">-</span><span class="token keyword">default</span> runlevel3<span class="token punctuation">.</span>target
# systemctl set<span class="token operator">-</span><span class="token keyword">default</span> runlevel5<span class="token punctuation">.</span>target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="重启、停止、挂起、休眠系统或使系统进入混合睡眠"><a href="#重启、停止、挂起、休眠系统或使系统进入混合睡眠" class="headerlink" title="重启、停止、挂起、休眠系统或使系统进入混合睡眠"></a>重启、停止、挂起、休眠系统或使系统进入混合睡眠</h3><pre class="line-numbers language-d"><code class="language-d"># systemctl reboot
# systemctl halt
# systemctl suspend
# systemctl hibernate
# systemctl hybrid<span class="token operator">-</span>sleep<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>运行等级为何物，说明如下。</p>
<ul>
<li>Runlevel 0 : 关闭系统</li>
<li>Runlevel 1 : 救援？维护模式</li>
<li>Runlevel 3 : 多用户，无图形系统</li>
<li>Runlevel 4 : 多用户，无图形系统</li>
<li>Runlevel 5 : 多用户，图形化系统</li>
<li>Runlevel 6 : 关闭并重启机器</li>
</ul>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/06/09/Linux-添加-删除用户和用户组/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/06/08/js-页面跳转/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/1.jpg" alt="long's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        124119885@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:124119885@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2019/06/">六月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/11/">十一月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">六月 2017<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">1</span></a>
            </li></ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/tags" title="标签">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                标签
            </a>
        </li>
        
            <li class="divider"></li>
        
    
        <li>
            <a href="/about" title="关于">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->


<!-- Theme Material -->


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>姿势就是力量
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?wgjW/HuQG9JDgvPDPoRAng==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("js/smoothscroll.js","/js/smoothscroll.js?tNQK2Tw2SUL8a1Scn/Mgew==")</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.4.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
